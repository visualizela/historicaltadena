<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Map with Mapbox</title>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css" rel="stylesheet">
    <style>
        body { margin: 0; padding: 0; }
        #map { position: absolute; top: 0; bottom: 0; width: 100%; }
    </style>
</head>
<body>

<div id="map"></div>

<script>
    // Set up Mapbox
    mapboxgl.accessToken = 'pk.eyJ1IjoiYW5keS1ydXRrb3dza2kiLCJhIjoiWDJRMFVUWSJ9.iHl6Cf0M79wmHQlfP6Bk8Q';
    const map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11',
        center: [-118.12121181812985, 34.18608985029485], // Default center (Pasadena)
        zoom: 10
    });

    // Data points from your dataset
    const locations = [
        { 
            title: "Lamanda Park Branch Library",
            description: "Interior photograph of the Lamanda Park Branch Library, Pasadena, 1970.",
            coordinates: [-118.098685, 34.1434489], 
            image: "https://digitallibrary.usc.edu/Assets/V2/iv6mLbYB3oV@e7MOcHcLNWMJqPMeNx1EIyMWg1JNSAnPZsX7xxfqliD1zAsbUZFlXQDlMYE4h0cwGco8QwLMl6Z6tzLe2qlYWmFSEKvJ9nkamjuX_jKz3rbPOPw4w6jV/r_lBVI_2H7_tz8VB/zaq@Zaxjb85L30P9/UC1947455.jpg"
        },
        { 
            title: "Altadena Country Club",
            description: "Altadena Town and Country Club dinner-dance, 1958.",
            coordinates: [-118.12121181812985, 34.18608985029485], 
            image: "https://digitallibrary.usc.edu/Assets/V2/iv6mLbYB3oV@e7MOcHcLNRkxaKGhSDBxo6nlX@xrVnOc6APt91LrHlR9VaNCqKkAm2XsvVcBqcKN2La_ALarI8uZOP@in8ozRP08FLrHDPxos46QXCTG5vPMsQAntlmc/BWcFm1SDn6ul859U/hNNnF06VPb@NP@W6/UC12188215.jpg"
        },
        { 
            title: "Christmas Tree Lane",
            description: "Christmas Tree Lane, Altadena, CA, 1931.",
            coordinates: [-118.13648879730562, 34.189219910754225], 
            image: "https://digitallibrary.usc.edu/Assets/V2/iv6mLbYB3oV@e7MOcHcLNVmCXAyEC68wOdhF@9WAL_ZgE162ER_EjhHsu0xx2qCwoY4aZVJBtAv6t6Fpq@oX3xlo8bWAhuaAlvZn5B60SAppcTptNgY3rZx7DvM3Uokj/jpUNLhciphyDWxxJ/QjqOpm94q3ItuIgz/UC129154.jpg"
        },
        { 
            title: "Echo Mountain House",
            description: "Echo Mountain House and Observatory with view of basin, [s.d.].",
            coordinates: [-118.12093377220566, 34.2146146518163], 
            image: "https://digitallibrary.usc.edu/Assets/V2/iv6mLbYB3oV@e7MOcHcLNYYSPxQWAqi04IOGjJaPUmgCev61OQR5luY9byx26A0@YGw_KIvsCh50Zz1GPujYLgyjRXZVewYcGkojgCFFUDaYFzFrrVgNjdMVAtQt0XqZ/jY@yLmEbXvbAsNZg/JnPKawA@SIEnmnHd/UC128870.jpg"
        }
    ];

    // Loop through the locations and add markers
    locations.forEach((location) => {
        const marker = new mapboxgl.Marker()
            .setLngLat(location.coordinates)
            .addTo(map);

        // Popup with image and description
        const popup = new mapboxgl.Popup({ offset: 25 }).setHTML(`
            <h3>${location.title}</h3>
            <p>${location.description}</p>
            <img src="${location.image}" alt="${location.title}" style="width:100%; max-width:300px; border-radius:5px;">
        `);

        marker.setPopup(popup);
    });
</script>

</body>
</html>
